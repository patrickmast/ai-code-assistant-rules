# Refactor Rules

When refactoring code, follow these guidelines:

## 1. Scope Definition
- Identify target code
- Define clear boundaries
- Set specific goals
- Document constraints

## 2. Analysis
- Review current structure
- Identify pain points
- Find improvement areas
- Check dependencies

## 3. Planning
- Design new structure
- Plan small steps
- Consider reversibility
- Document approach

## 4. Implementation
- Make small changes
- Preserve behavior
- Update tests
- Maintain patterns

## 5. Verification
- Run existing tests
- Check functionality
- Verify performance
- Review changes

## 6. Documentation
- Update comments
- Explain changes
- Document patterns
- Update guides

## Key Principles
- No behavior changes
- Small, safe steps
- Maintain tests
- Clear improvement
- Easy to reverse

## Code Twins
- Identify similar patterns
- Update consistently
- Document relationships
- Maintain alignment
